{"version":3,"file":"index.es.js","sources":["../src/TitleBar/Theme/index.js","../node_modules/style-inject/dist/style-inject.es.js","../src/TitleBar/MenuBar/MenuButton/index.js","../src/TitleBar/MenuBar/MenuList/MenuItem/index.js","../src/TitleBar/utils.js","../src/TitleBar/MenuBar/MenuList/SubMenu/index.js","../src/TitleBar/MenuBar/MenuList/index.js","../src/TitleBar/MenuBar/utils.js","../src/TitleBar/MenuBar/index.js","../src/TitleBar/components/Bar.js","../src/TitleBar/components/Title.js","../src/TitleBar/components/ResizeHandle.js","../src/TitleBar/components/Icon.js","../src/TitleBar/components/Button/index.js","../src/TitleBar/WindowControls/index.js","../src/TitleBar/index.js"],"sourcesContent":["import React from 'react';\n\nexport const darkTheme = {\n  /* Title */\n  barTheme: 'dark', // light, dark\n  barHeight: '22px', // Change this value if you set 'titleBarStyle' to 'hiddenInset'\n  winBarHeight: '28px',\n  barColor: '#fff',\n  barTitleColor: 'inherit',\n  barBackgroundColor: '#24292e',\n  barShowBorder: false,\n  titleFontFamily: 'inherit',\n  titleFontWeight: 'normal',\n  barBorderBottom: '1px solid #000',\n  // should the icon be shown in the center of the toolbar on Mac/Linux apps alongside the app or title property\n  showIconDarLin: true,\n\n  /* Menu */\n  menuStyle: 'horizontal', // horizontal, vertical\n  menuDimItems: true,\n  menuDimOpacity: 0.6,\n  menuDisabledOpacity: 0.3,\n  menuWidth: 240,\n  menuBackgroundColor: '#fff',\n  menuItemTextColor: '#fff',\n  menuItemHoverBackground: 'rgba(255,255,255,0.3)',\n  menuActiveTextColor: '#24292e',\n  menuTextHighlightColor: '#fff',\n  menuHighlightColor: '#0372ef',\n  accentStatusIcon: true,\n  menuSubLabelHeaders: true,\n  menuSubLabelColor: '#6a737d',\n  menuAcceleratorColor: '#6a737d',\n  menuShowBoxShadow: true,\n  menuBoxShadow: '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',\n  /* Menu Overlay */\n  menuOverlayBackground: 'black',\n  menuOverlayOpacity: 0.4,\n  menuSeparatorColor: '#e1e4e8',\n\n  /* WindowControls */\n  windowControlsColor: '#fff',\n  windowCloseHover: '#fff',\n  windowCloseBackground: '#e81123',\n  windowCloseActive: '#bf0f1d',\n  windowDefaultBackground: 'rgba(255,255,255,0.3)',\n  windowDefaultActive: 'rgba(255,255,255,0.2)'\n};\n\nexport const lightTheme = {\n  ...darkTheme,\n  /* Title */\n  barTheme: 'light',\n  barColor: '#24292e',\n  barBackgroundColor: '#e8e8e8',\n  barBorderBottom: '1px solid #d3d4d5',\n\n  /* Menu */\n  menuItemTextColor: '#24292e',\n  menuItemHoverBackground: 'rgba(0, 0, 0, 0.1)',\n\n  /* WindowControls */\n  windowControlsColor: '#000',\n  windowDefaultBackground: 'rgba(0, 0, 0, 0.1)',\n  windowDefaultActive: 'rgba(0, 0, 0, 0.2)'\n};\n\nconst ThemeContext = React.createContext(darkTheme);\n\nconst ThemeConsumer = ThemeContext.Consumer;\n\nexport const ThemeProvider = ThemeContext.Provider;\n\nexport const withTheme = (Component) => {\n  const WithTheme = React.forwardRef((props, ref) => (\n    <ThemeConsumer>\n      {(theme) => {\n        return <Component {...props} theme={theme} ref={ref} />;\n      }}\n    </ThemeConsumer>\n  ));\n  return WithTheme;\n};\n\nexport default ThemeContext;\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport css from './styles.css';\nimport ThemeContext from '../../Theme';\n\nconst styles = {\n  Wrapper: {\n    minWidth: 0\n  },\n  ButtonWrapper: {\n    width: '100%',\n    height: '100%'\n  },\n  Button: {\n    WebkitAppearance: 'none',\n    border: 'none',\n    boxShadow: 'none',\n    background: 'transparent',\n    borderRadius: 0,\n    textAlign: 'left',\n    margin: 0,\n    padding: 0,\n    height: '100%',\n    width: '100%',\n    fontSize: 12,\n    paddingLeft: 10,\n    paddingRight: 10\n  }\n};\n\nexport default class MenuButton extends Component {\n  render() {\n    const {\n      onMouseEnter,\n      onMouseLeave,\n      onMouseOver,\n      onMouseMove,\n      onTouchStart,\n      onFocus,\n      onClick,\n      label,\n      open,\n      enabled,\n      hovering,\n      rectRef\n    } = this.props;\n\n    let theme = this.context;\n    let backgroundColor = open ? theme.menuBackgroundColor : ((hovering && enabled) ? theme.menuItemHoverBackground : 'transparent');\n    let borderColor = open ? theme.menuBackgroundColor : '';\n    let color = open ? theme.menuActiveTextColor : theme.menuItemTextColor;\n    let opacity = enabled ? (((open || hovering) || !theme.menuDimItems) ? 1 : theme.menuDimOpacity) : theme.menuDisabledOpacity;\n\n    return (\n      <div\n        style={styles.Wrapper}\n        onMouseEnter={onMouseEnter}\n        onMouseLeave={onMouseLeave}\n        onMouseOver={onMouseOver}\n        onMouseMove={onMouseMove}\n        onTouchStart={onTouchStart}\n        onFocus={onFocus}\n        onClick={onClick}\n        ref={rectRef}\n      >\n        {this.props.children}\n        <div\n          style={styles.ButtonWrapper}\n        >\n          <button\n            className={css.MenuButton}\n            style={{\n              ...styles.Button,\n              backgroundColor,\n              borderColor,\n              color\n            }}\n            tabIndex=\"-1\"\n          >\n            <div\n              style={{\n                opacity\n              }}\n            >\n              <span aria-hidden=\"true\">{label}</span>\n            </div>\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nMenuButton.propTypes = {\n  children: PropTypes.node,\n  enabled: PropTypes.bool,\n  label: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.node,\n  ]).isRequired,\n  open: PropTypes.bool,\n  closed: PropTypes.bool,\n  hovering: PropTypes.bool,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseOver: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  onFocus: PropTypes.func,\n  onClick: PropTypes.func,\n  rectRef: PropTypes.func\n};\n\nMenuButton.contextType = ThemeContext;\n\nMenuButton.defaultProps = {\n  open: false,\n  closed: false,\n  hovering: false,\n  enabled: true,\n  onMouseEnter: () => {},\n  onMouseLeave: () => {},\n  onMouseOver: () => {},\n  onMouseMove: () => {},\n  onTouchStart: () => {},\n  onFocus: () => {},\n  onClick: () => {},\n  rectRef: () => {}\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { remote } from 'electron';\nimport css from './styles.css';\nimport ThemeContext from '../../../Theme';\n\nconst checked = <svg width=\"1792\" height=\"1792\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1671 566q0 40-28 68l-724 724-136 136q-28 28-68 28t-68-28l-136-136-362-362q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 295 656-657q28-28 68-28t68 28l136 136q28 28 28 68z\" /></svg>;\nconst unchecked = <span />;\nconst radioUnchecked = <svg width=\"1792\" height=\"1792\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M896 352q-148 0-273 73t-198 198-73 273 73 273 198 198 273 73 273-73 198-198 73-273-73-273-198-198-273-73zm768 544q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z\" /></svg>;\nconst radioChecked = <svg width=\"1792\" height=\"1792\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1152 896q0 106-75 181t-181 75-181-75-75-181 75-181 181-75 181 75 75 181zm-256-544q-148 0-273 73t-198 198-73 273 73 273 198 198 273 73 273-73 198-198 73-273-73-273-198-198-273-73zm768 544q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z\" /></svg>;\nconst arrow = <svg version=\"1.1\" width=\"24px\" height=\"24px\"><g id=\"Rounded\"><path d=\"M9.29,6.71L9.29,6.71c-0.39,0.39-0.39,1.02,0,1.41L13.17,12l-3.88,3.88c-0.39,0.39-0.39,1.02,0,1.41l0,0c0.39,0.39,1.02,0.39,1.41,0l4.59-4.59c0.39-0.39,0.39-1.02,0-1.41l-4.59-4.59C10.32,6.32,9.68,6.32,9.29,6.71z\" /></g></svg>;\n\nconst styles = {\n  Wrapper: {\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    minWidth: 0,\n    fontSize: 12,\n    padding: '0px 10px',\n    height: 30,\n    color: 'inherit',\n    cursor: 'default'\n  },\n  Label: {\n    flexGrow: 1,\n    marginLeft: 10,\n    marginRight: 10,\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap'\n  },\n  Accelerator: {\n    flexShrink: 0,\n    marginRight: 10\n  },\n  Separator: {\n    display: 'block',\n    width: '100%',\n    border: 'none',\n    height: 1\n  },\n  Icon: {\n    width: '100%',\n    height: '100%',\n    backgroundSize: 'contain',\n    backgroundPosition: 'center'\n  }\n}\n\nclass MenuItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hovering: false\n    };\n    this.handleMouseEnter = this.handleMouseEnter.bind(this);\n    this.handleMouseLeave = this.handleMouseLeave.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleMouseEnter(e) {\n    const {\n      menuItem\n    } = this.props;\n\n    if (menuItem.enabled === false) {\n      e.stopPropagation();\n      return;\n    }\n\n    this.setState({\n      hovering: true\n    });\n  }\n\n  handleMouseLeave(e) {\n    const {\n      menuItem\n    } = this.props;\n\n    if (menuItem.enabled === false) {\n      e.stopPropagation();\n      return;\n    }\n\n    this.setState({\n      hovering: false\n    });\n  }\n\n  handleClick(e) {\n    const {\n      menuItem,\n      changeCheckState,\n      path,\n      indx\n    } = this.props;\n\n    if (menuItem.enabled === false) {\n      e.stopPropagation();\n      return;\n    }\n\n    switch (menuItem.type) {\n      case 'checkbox': {\n        e.persist();\n        const newMenuItem = {\n          ...menuItem,\n          checked: !menuItem.checked\n        };\n        menuItem.click(newMenuItem, remote.getCurrentWindow(), e);\n        // TODO: Change Checked State\n        changeCheckState(path, indx, !menuItem.checked);\n        break;\n      }\n      case 'radio': {\n        // e.persist();\n        const newMenuItem = {\n          ...menuItem,\n          checked: true\n        };\n        menuItem.click(newMenuItem, remote.getCurrentWindow(), e);\n        if (!menuItem.checked) {\n          // TODO: Change Checked State\n          changeCheckState(path, indx, true, true);\n        }\n        break;\n      }\n      default:\n        e.persist();\n        menuItem.click(this.props.menuItem, remote.getCurrentWindow(), e);\n        break;\n    }\n  }\n\n  render() {\n    const {\n      children,\n      menuItem\n    } = this.props;\n\n    const {\n      hovering\n    } = this.state;\n\n    const theme = this.context;\n\n    const isSubMenu = (menuItem.type && menuItem.type.toLowerCase() === 'submenu');\n\n    if (menuItem.visible === false) {\n      return null;\n    }\n\n    if (menuItem.type && (menuItem.type.toLowerCase() === 'separator')) {\n      return (\n        <hr\n          style={{\n            ...styles.Separator,\n            borderBottom: `1px solid ${theme.menuSeparatorColor}`\n          }}\n        />\n      );\n    }\n\n    let statusIcon = <span />;\n\n    if (menuItem.type === 'radio') {\n      statusIcon = menuItem.checked ? radioChecked : radioUnchecked;\n    } else if (menuItem.type === 'checkbox') {\n      statusIcon = menuItem.checked ? checked : unchecked;\n    } else if (menuItem.icon) {\n      statusIcon = (\n        <div\n          style={{\n            ...styles.Icon,\n            backgroundImage: `url(${menuItem.icon})`\n          }}\n        />\n      );\n    }\n\n    return (\n      <div\n        style={{\n          ...styles.Wrapper,\n          color: hovering ? theme.menuTextHighlightColor : '',\n          opacity: menuItem.enabled ? '1' : '0.3',\n          backgroundColor: hovering ? theme.menuHighlightColor : ''\n        }}\n        onMouseEnter={this.handleMouseEnter}\n        onMouseLeave={this.handleMouseLeave}\n        onClick={this.handleClick}\n      >\n        <div\n          className={css.StatusIcon}\n          style={{\n            color: hovering ? theme.menuTextHighlightColor : (theme.accentStatusIcon ? theme.menuHighlightColor : theme.menuActiveTextColor)\n          }}\n        >\n          {statusIcon}\n        </div>\n        <span style={styles.Label}>\n          {menuItem.label}\n        </span>\n        <span\n          style={{\n            ...styles.Accelerator,\n            color: hovering ? theme.menuTextHighlightColor : theme.menuAcceleratorColor\n          }}\n        >\n          {menuItem.accelerator}\n        </span>\n        {\n          (isSubMenu) &&\n          <div\n            className={css.SubMenuArrow}\n          >\n            {arrow}\n          </div>\n        }\n        {(isSubMenu && this.state.hovering) && children}\n      </div>\n    );\n  }\n}\n\nMenuItem.propTypes = {\n  menuItem: PropTypes.shape({\n    label: PropTypes.string,\n    enabled: PropTypes.bool,\n    checked: PropTypes.bool,\n    visible: PropTypes.bool,\n    type: PropTypes.oneOf([\n      'normal',\n      'separator',\n      'submenu',\n      'checkbox',\n      'radio'\n    ]),\n    click: PropTypes.func\n  }),\n  children: PropTypes.node,\n  indx: PropTypes.number,\n  changeCheckState: PropTypes.func\n};\n\nMenuItem.defaultProps = {\n  menuItem: {\n    id: '',\n    enabled: true,\n    label: '',\n    checked: false,\n    visible: true,\n    type: 'normal',\n    accelerator: '',\n    position: ''\n  },\n  children: null,\n  indx: 0,\n  changeCheckState: () => {}\n};\n\nMenuItem.contextType = ThemeContext;\n\nexport default MenuItem;\n","import isEqual from 'lodash.isequal';\n\nexport const getProperty = (path, obj) => path.reduce((xs, x) => (xs && xs[x]) ? xs[x] : null, obj);\n\nexport const reduxSet = (obj, path, val) => {\n  const [prop, ...restPath] = path;\n  if (typeof prop === 'undefined') {\n    if (!isEqual(obj, val)) {\n      return val;\n    }\n    return obj;\n  }\n  let before;\n  if (prop in obj) {\n    before = obj[prop];\n  } else {\n    before = {};\n  }\n  const after = reduxSet(before, restPath, val);\n  if (after !== before) {\n    let result;\n    if (Array.isArray(obj)) {\n      result = obj.slice();\n      result[prop] = after;\n    } else {\n      result = {\n        ...obj,\n        [prop]: after,\n      };\n    }\n    return result;\n  }\n  return obj;\n};\n\nexport const defaultMenuItem = {\n  id: '',\n  enabled: true,\n  label: '',\n  checked: false,\n  visible: true,\n  type: 'normal',\n  accelerator: '',\n  position: '',\n  submenu: [],\n  click: () => {}\n};\n\nexport const darkTheme = {\n  /* Title */\n  barTheme: 'dark', // light, dark\n  barHeight: '22px', // Change this value if you set 'titleBarStyle' to 'hiddenInset'\n  winBarHeight: '28px',\n  barColor: '#fff',\n  barTitleColor: 'inherit',\n  barBackgroundColor: '#24292e',\n  barShowBorder: false,\n  barBorderBottom: '1px solid #000',\n  // should the icon be shown in the center of the toolbar on Mac/Linux apps alongside the app or title property\n  showIconDarLin: true,\n\n  /* Menu */\n  menuStyle: 'horizontal', // horizontal, vertical\n  menuDimItems: true,\n  menuDimOpacity: 0.6,\n  menuDisabledOpacity: 0.3,\n  menuWidth: 240,\n  menuBackgroundColor: '#fff',\n  menuItemTextColor: '#fff',\n  menuItemHoverBackground: 'rgba(255,255,255,0.3)',\n  menuActiveTextColor: '#24292e',\n  menuTextHighlightColor: '#fff',\n  menuHighlightColor: '#0372ef',\n  accentStatusIcon: false,\n  menuSubLabelHeaders: true,\n  menuSubLabelColor: '#6a737d',\n  menuAcceleratorColor: '#6a737d',\n  menuShowBoxShadow: true,\n  menuBoxShadow: '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',\n  /* Menu Overlay */\n  menuOverlayBackground: 'black',\n  menuOverlayOpacity: 0.4,\n  menuSeparatorColor: '#e1e4e8',\n\n  /* WindowControls */\n  windowControlsColor: '#fff',\n  windowCloseHover: '#fff',\n  windowCloseBackground: '#e81123',\n  windowCloseActive: '#bf0f1d',\n  windowDefaultBackground: 'rgba(255,255,255,0.3)',\n  windowDefaultActive: 'rgba(255,255,255,0.2)',\n};\n\nexport const lightTheme = {\n  ...darkTheme,\n  /* Title */\n  barTheme: 'light',\n  barColor: '#24292e',\n  barBackgroundColor: '#e8e8e8',\n  barBorderBottom: '1px solid #d3d4d5',\n\n  /* Menu */\n  menuItemTextColor: '#24292e',\n  menuItemHoverBackground: 'rgba(0, 0, 0, 0.1)',\n\n  /* WindowControls */\n  windowControlsColor: '#000',\n  windowDefaultBackground: 'rgba(0, 0, 0, 0.1)',\n  windowDefaultActive: 'rgba(0, 0, 0, 0.2)',\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from '../MenuItem';\nimport { defaultMenuItem } from '../../../utils';\nimport ThemeContext from '../../../Theme';\n\nexport const SubMenuLabelStyle = {\n  height: '20px',\n  lineHeight: '20px',\n  margin: '0px 10px',\n  fontWeight: 'bold',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  whiteSpace: 'nowrap',\n  direction: 'rtl',\n  fontSize: '1em',\n  textAlign: 'left'\n};\n\nconst styles = {\n  SubMenuWrapper: {\n    position: 'absolute',\n    width: '100%',\n    padding: '5px 0px'\n  }\n};\n\nclass SubMenu extends Component {\n  constructor(props) {\n    super(props);\n    this.generateMenu = this.generateMenu.bind(this);\n  }\n\n  generateMenu(menu = []) {\n    const theme = this.context;\n    return menu.map((menuItem, i) => {\n      if (menuItem.submenu) {\n        // create submenu item\n        const windowWidth = window.innerWidth;\n        let renderSide = 'right';\n        let right = this.props.right + theme.menuWidth;\n\n        // Render menu to the left if the right side of the\n        // current menu is greater than the current window width\n        if (right > windowWidth) {\n          if (theme.menuWidth < (this.props.right - theme.menuWidth)) {\n            renderSide = 'left';\n            right = this.props.right - theme.menuWidth;\n          } else {\n            // check wich side has more space and zero it out to the right or left\n            const rightDiff = windowWidth - right;\n            const leftDiff = this.props.right - theme.menuWidth;\n            if (rightDiff < leftDiff) {\n              // zero out to the right\n            }\n          }\n        }\n        return (\n          <SubMenu\n            key={`${i}${menuItem.label}`}\n            level={this.props.level + 1}\n            right={right}\n            renderSide={renderSide}\n            changeCheckState={this.props.changeCheckState}\n            menuItem={{ ...defaultMenuItem, ...menuItem, type: 'submenu' }}\n            path={[...this.props.path, i, 'submenu']}\n          />\n        );\n      }\n\n      return (\n        <MenuItem\n          key={`${i}${menuItem.label}`}\n          changeCheckState={this.props.changeCheckState}\n          menuItem={{ ...defaultMenuItem, ...menuItem }}\n          indx={i}\n          path={[...this.props.path]}\n        />\n      );\n    });\n  }\n\n  render() {\n    const {\n      menuItem,\n      level,\n      renderSide\n    } = this.props;\n\n    const theme = this.context;\n\n    return (\n      <MenuItem\n        menuItem={{ ...defaultMenuItem, ...menuItem }}\n      >\n        <div\n          style={{\n            ...styles.SubMenuWrapper,\n            top: theme.menuSubLabelHeaders ? '-25px' : '-5px',\n            left: renderSide === 'left' ? '-100%' : '100%',\n            maxWidth: theme.menuWidth,\n            backgroundColor: theme.menuBackgroundColor,\n            color: theme.menuActiveTextColor,\n            zIndex: level + 8,\n            boxShadow: theme.menuShowBoxShadow ? theme.menuBoxShadow : ''\n          }}\n        >\n          {\n            theme.menuSubLabelHeaders &&\n            <div\n              style={{\n                ...SubMenuLabelStyle,\n                color: theme.menuSubLabelColor\n              }}\n            >\n              {menuItem.label}\n            </div>\n          }\n          {\n            this.generateMenu(menuItem.submenu)\n          }\n        </div>\n      </MenuItem>\n    );\n  }\n}\n\nSubMenu.propTypes = {\n  menuItem: PropTypes.object,\n  level: PropTypes.number,\n  renderSide: PropTypes.string,\n  changeCheckState: PropTypes.func\n};\n\nSubMenu.defaultProps = {\n  menuItem: {},\n  level: 1,\n  renderSide: 'right',\n  changeCheckState: () => {}\n};\n\nSubMenu.contextType = ThemeContext;\n\nexport default SubMenu;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from './MenuItem';\nimport SubMenu, { SubMenuLabelStyle } from './SubMenu';\nimport { defaultMenuItem } from '../../utils';\nimport css from './styles.css';\nimport ThemeContext from '../../Theme';\n\nconst styles = {\n  Wrapper: {\n    zIndex: 8,\n    position: 'absolute',\n    width: '100%',\n    overflow: 'hidden',\n    left: 0\n  },\n  FoldOut: {\n    background: 'transparent',\n    pointerEvents: 'none',\n    position: 'absolute',\n    top: 0\n  },\n  MenuPane: {\n    pointerEvents: 'all'\n  },\n  MenuFoldOut: {\n    paddingTop: 5,\n    paddingBottom: 5\n  }\n}\n\nclass MenuList extends Component {\n  constructor(props) {\n    super(props);\n    this.generateMenu = this.generateMenu.bind(this);\n  }\n\n  generateMenu(menu = []) {\n    const theme = this.context;\n    return menu.map((menuItem, i) => {\n      if (menuItem.submenu || (menuItem.type && menuItem.type.toLowerCase() === 'submenu')) {\n        const menuWidth = this.props.rect.left + theme.menuWidth;\n        const windowWidth = window.innerWidth;\n        let renderSide = 'right';\n        let right = menuWidth + theme.menuWidth;\n\n        // Render menu to the left if the right side of the\n        // current menu is greater than the current window width\n        if (right > windowWidth && theme.menuWidth < this.props.rect.left) {\n          renderSide = 'left';\n          right = menuWidth - theme.menuWidth;\n        }\n\n        return (\n          <SubMenu\n            key={`${i}${menuItem.label}`}\n            level={1}\n            right={right}\n            renderSide={renderSide}\n            changeCheckState={this.props.changeCheckState}\n            menuItem={{ ...defaultMenuItem, ...menuItem, type: 'submenu' }}\n            path={this.props.vertical ? [...this.props.path, i, 'submenu'] : [...this.props.path, 'submenu', i, 'submenu']}\n          />\n        );\n      }\n      return (\n        <MenuItem\n          key={`${i}${menuItem.label}`}\n          menuItem={{ ...defaultMenuItem, ...menuItem }}\n          changeCheckState={this.props.changeCheckState}\n          indx={i}\n          path={this.props.vertical ? [...this.props.path] : [...this.props.path, 'submenu']}\n        />\n      );\n    });\n  }\n\n  render() {\n    const {\n      submenu,\n      rect\n    } = this.props;\n\n    const theme = this.context;\n\n    return (\n      <div\n        style={{\n          ...styles.Wrapper,\n          height: `calc(100% - ${rect.bottom}px)`,\n          top: `${rect.bottom}px`\n        }}\n      >\n        <div\n          className={css.MenuListOverlay}\n          style={{\n            background: theme.menuOverlayBackground,\n            opacity: theme.menuOverlayOpacity\n          }}\n          tabIndex=\"-1\"\n        />\n        <div\n          style={{\n            ...styles.FoldOut,\n            marginLeft: rect.left,\n            maxWidth: `calc(100% - ${rect.left}px)`,\n            color: theme.menuActiveTextColor\n          }}\n        >\n          <div\n            style={{\n              ...styles.MenuFoldOut,\n              background: theme.menuBackgroundColor,\n              boxShadow: theme.showBoxShadow ? theme.menuBoxShadow : ''\n            }}\n          >\n            <div\n              style={{\n                ...styles.MenuPane,\n                width: theme.menuWidth\n              }}\n            >\n              {\n                (theme.menuStyle === 'vertical' && theme.menuSubLabelHeaders) &&\n                  <div\n                    style={{\n                      ...SubMenuLabelStyle,\n                      color: theme.menuSubLabelColor\n                    }}\n                    key=\"main-menu-sublabel\"\n                  >\n                    Menu\n                  </div>\n              }\n              {this.generateMenu(submenu)}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nMenuList.propTypes = {\n  submenu: PropTypes.array,\n  path: PropTypes.array,\n  rect: PropTypes.shape({\n    height: PropTypes.number,\n    width: PropTypes.number,\n    x: PropTypes.number,\n    y: PropTypes.number\n  }).isRequired,\n  changeCheckState: PropTypes.func\n};\n\nMenuList.defaultProps = {\n  submenu: [],\n  path: [],\n  changeCheckState: () => {}\n};\n\nMenuList.contextType = ThemeContext;\n\nexport default MenuList;\n","const topologicalSort = (original, graph) => {\n  // Sort items topologically using a depth-first approach\n  const sorted = [];\n  const visited = new Set();\n\n  const visit = (mark) => {\n    // if item visited return\n    if (visited.has(mark)) return;\n    // add item to list of visited nodes\n    visited.add(mark);\n    // get edges from graph for visited id\n    const edges = graph.get(mark);\n    if (edges != null) {\n      // visit each edge\n      edges.forEach(visit);\n    }\n    sorted.push(mark);\n  }\n\n  original.forEach(visit);\n  return sorted;\n};\n\nconst areValidTemplateItems = (template) => {\n  // validate the menu attributes\n  return template.every(item => {\n    if (item === null || typeof item !== 'object') {\n      return false;\n    }\n    return (item.hasOwnProperty('label') || item.type === 'separator')\n  });\n};\n\nconst addEdge = (graph, from, to) => {\n  if (!graph.has(from)) {\n    // create edge list from\n    graph.set(from, []);\n  }\n  // add to edge list from -> to\n  graph.get(from).push(to);\n};\n\nconst sortMenuItems = (menu) => {\n  const original = menu.map((item, i) => i);\n  const graph = new Map();\n  const idToIndex = new Map(menu.map((item, i) => [item.id, i]));\n  // add graph edges to perform topological sort\n  menu.forEach((item, i) => {\n    if (item.before) {\n      // get index from item before id\n      const to = idToIndex.get(item.before);\n      if (to != null) {\n        // add edge pointing from item before -> to current item\n        addEdge(graph, to, i);\n      }\n    }\n    if (item.after) {\n      // get index from item after id\n      const to = idToIndex.get(item.after);\n      if (to != null) {\n        // add edge from current item pointing -> to item after\n        addEdge(graph, i, to);\n      }\n    }\n  });\n  // sort edges\n  const sortedOrder = topologicalSort(original, graph);\n  // return sorted menu items\n  return sortedOrder.map(i => menu[i]);\n};\n\nconst sortMenu = (menu) => {\n  // sort menu and all submenus\n  const sorted = sortMenuItems(menu);\n  for (const id in sorted) {\n    const item = sorted[id];\n    if (Array.isArray(item.submenu)) {\n      // sort submenus\n      item.submenu = sortMenu(item.submenu);\n    }\n  }\n  return sorted;\n};\n\nexport const buildMenu = (menu) => {\n  if (!Array.isArray(menu)) {\n    throw new TypeError('Menu must be an array');\n  }\n  if (!areValidTemplateItems(menu)) {\n    throw new TypeError('MenuItem must have at least one of label, role or type');\n  }\n  return sortMenu(menu);\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport MenuButton from './MenuButton';\nimport MenuList from './MenuList';\nimport { reduxSet, getProperty } from '../utils';\nimport ThemeContext from '../Theme';\nimport { buildMenu } from './utils';\n\nconst menuIcon = (\n  <svg version=\"1.1\" width=\"24px\" height=\"24px\" viewBox=\"0 0 32 32\">\n    <path d=\"M 4 7 L 4 9 L 28 9 L 28 7 Z M 4 15 L 4 17 L 28 17 L 28 15 Z M 4 23 L 4 25 L 28 25 L 28 23 Z \"/>\n  </svg>\n);\n\nconst styles = {\n  Wrapper: {\n    display: 'flex',\n    WebkitAppRegion: 'no-drag',\n    maxWidth: 'calc(100% - 163px)'\n  }\n};\n\nclass MenuBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hovering: -1,\n      focusing: 0,\n      clicked: false,\n      menu: buildMenu(props.menu)\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.menu !== this.state.menu) {\n      this.setState({\n        menu: buildMenu(nextProps.menu)\n      });\n    }\n  }\n\n  // if hovering over another button while menu is clicked; change focus\n  onMenuButtonMouseOver = (i) => {\n    if (this.state.clicked) {\n      this.setState({\n        focusing: i\n      });\n    }\n  };\n\n  // lock set to true to keep menu panes open\n  onTouchStart = (i) => {\n    if (i !== this.state.focusing && this.state.clicked) {\n      this.lock = true;\n    }\n  };\n\n  // if moving over a different menu button - select that menu button\n  onMouseMove = (i) => {\n    if (i === this.state.focusing) return;\n    this.setState({\n      focusing: i\n    });\n  };\n\n  // when a menu button is clicked\n  onMenuButtonClick = (index) => {\n    if (this.lock) {\n      this.lock = false;\n      return;\n    }\n    this.setState({\n      clicked: !(this.state.focusing === index && this.state.clicked),\n      hovering: !(this.state.focusing === index && this.state.clicked) ? this.state.hovering : -1\n    });\n  };\n\n  // we need the rect's bounds for the child menu pane\n  setMenuRef = (ref, i) => {\n    if (this.menuItems) {\n      this.menuItems[i] = ref;\n    } else {\n      this.menuItems = { [i]: ref };\n    }\n  };\n\n  // path: to current submenu\n  // checked: new state\n  changeCheckState = (path, itemIndx, checked, isRadio = false) => {\n    if (!isRadio) {\n      // change checked state\n      this.setState(reduxSet(this.state, [...path, itemIndx, 'checked'], checked));\n    } else {\n      let newState = { ...this.state };\n      getProperty(path, this.state).forEach((menuItem, indx) => {\n        if (menuItem.type === 'radio') {\n          newState = reduxSet(newState, [...path, indx, 'checked'], indx === itemIndx);\n        }\n      });\n      this.setState(newState);\n    }\n  };\n\n  generateHorizontalMenu = (menuObj = []) => {\n    return menuObj.map((menuItem, i) => {\n      return (\n        <MenuButton\n          key={`${menuItem.label}`}\n          onMouseEnter={() => {\n            if (menuItem.enabled === false) return;\n            this.setState({\n              hovering: i\n            });\n          }}\n          onMouseLeave={() => {\n            if (menuItem.enabled === false) return;\n            this.setState({\n              hovering: -1\n            });\n          }}\n          onMouseOver={() => {\n            if (menuItem.enabled === false) return;\n            this.onMenuButtonMouseOver(i);\n          }}\n          onMouseMove={() => {\n            if (menuItem.enabled === false) return;\n            this.onMouseMove(i);\n          }}\n          onTouchStart={() => {\n            if (menuItem.enabled === false) return;\n            this.onTouchStart(i);\n          }}\n          onClick={() => {\n            if (menuItem.enabled === false) return;\n            this.onMenuButtonClick(i);\n          }}\n          onFocus={() => {\n            // idk - linting says it needs it? it has no purpose for me\n          }}\n          rectRef={(ref) => this.setMenuRef(ref, i)}\n          hovering={i === this.state.hovering}\n          open={this.state.clicked && i === this.state.focusing}\n          closed={!this.state.clicked || i !== this.state.focusing}\n          enabled={menuItem.enabled}\n          label={menuItem.label}\n        >\n          {\n            (this.state.clicked && i === this.state.focusing) &&\n              <MenuList\n                changeCheckState={this.changeCheckState}\n                rect={this.menuItems[i].getBoundingClientRect()}\n                submenu={menuItem.submenu}\n                mainIndex={i}\n                path={['menu', i]}\n              />\n          }\n        </MenuButton>\n      );\n    });\n  };\n\n  generateVerticalMenu = (menuList = []) => {\n    return (\n      <MenuButton\n        onMouseEnter={() => {\n          this.setState({\n            hovering: 0,\n          });\n        }}\n        onMouseLeave={() => {\n          this.setState({\n            hovering: -1,\n          });\n        }}\n        onMouseOver={() => {\n          this.onMenuButtonMouseOver(0);\n        }}\n        onMouseMove={() => {\n          this.onMouseMove(0);\n        }}\n        onTouchStart={() => {\n          this.onTouchStart(0);\n        }}\n        onClick={() => {\n          this.onMenuButtonClick(0);\n        }}\n        onFocus={() => {\n          // idk - linting says it needs it? it has no purpose for me\n        }}\n        rectRef={(ref) => this.setMenuRef(ref, 0)}\n        hovering={this.state.hovering === 0}\n        open={this.state.clicked && this.state.focusing === 0}\n        closed={!this.state.clicked || this.state.focusing !== 0}\n        label={menuIcon}\n        enabled\n      >\n        {\n          (this.state.clicked && this.state.focusing === 0) &&\n            <MenuList\n              changeCheckState={this.changeCheckState}\n              rect={this.menuItems[0].getBoundingClientRect()}\n              submenu={menuList}\n              path={['menu']}\n              vertical\n            />\n        }\n      </MenuButton>\n    );\n  };\n\n  render() {\n    let theme = this.context;\n    let color = theme.menuItemTextColor || theme.barColor;\n    return (\n      <div style={{ ...styles.Wrapper, color }}>\n        {theme.menuStyle === 'horizontal' ? this.generateHorizontalMenu(this.state.menu) : this.generateVerticalMenu(this.state.menu)}\n      </div>\n    );\n  }\n}\n\nMenuBar.propTypes = {\n  menu: PropTypes.array\n};\n\nMenuBar.defaultProps = {\n  menu: []\n};\n\nMenuBar.contextType = ThemeContext;\n\nexport default MenuBar;\n","import React from 'react';\nimport electron from 'electron';\nimport ThemeContext from '../Theme';\n\nconst styles = {\n  Bar: {\n    flexGrow: 0,\n    flexShrink: 0,\n    display: 'flex',\n    flexDirection: 'row',\n    fontSize: '12px',\n    width: '100%',\n    WebkitAppRegion: 'drag',\n    userSelect: 'none',\n    fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", Arial, sans-serif'\n  }\n};\n\nconst currentWindow = electron.remote.getCurrentWindow();\nclass Bar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleDoubleClick = this.handleDoubleClick.bind(this);\n  }\n\n  handleDoubleClick(e) {\n    let { isWin } = this.props;\n    if (!isWin) {\n      let bounds = electron.screen.getPrimaryDisplay().workArea;\n      currentWindow.setBounds(bounds, true);\n    }\n  }\n\n  render() {\n    let props = this.props;\n    let theme = this.context;\n    let height = props.isWin ? theme.winBarHeight : theme.barHeight;\n    let backgroundColor = theme.barBackgroundColor;\n    let color = theme.barColor;\n    let borderBottom = theme.barShowBorder ? theme.barBorderBottom : '';\n\n    return (\n      <div\n        style={{ ...styles.Bar, height, backgroundColor, color, borderBottom }}\n        onDoubleClick={this.handleDoubleClick}\n      >\n        {props.children}\n      </div>\n    );\n  }\n}\n\nBar.contextType = ThemeContext;\n\nBar.defaultProps = {\n  isWin: false\n}\n\nexport default Bar;\n","import React from 'react';\nimport ThemeContext from '../Theme';\n\nconst styles = {\n  Title: {\n    margin: '0px 6px 0px 0px',\n    textAlign: 'center',\n    display: 'flex',\n    whiteSpace: 'nowrap',\n    justifyContent: 'center',\n    alignContent: 'center',\n    alignItems: 'center',\n    flexDirection: 'row',\n    WebkitAppRegion: 'drag'\n  }\n};\n\nclass Title extends React.Component {\n  render() {\n    let props = this.props;\n    let theme = this.context;\n    let lineHeight = props.isWin ? theme.winBarHeight : theme.barHeight;\n    let padding = props.isWin ? '0px 4px' : '0 70px';\n    let flex = props.flex;\n    let color = theme.barTitleColor;\n    let fontFamily = theme.titleFontFamily;\n    let fontWeight = theme.titleFontWeight;\n\n    return (\n      <div\n        style={{ ...styles.Title, lineHeight, padding, color, flex, fontFamily, fontWeight }}\n      >\n        {props.children}\n      </div>\n    );\n  }\n}\n\nTitle.contextType = ThemeContext;\n\nexport default Title;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst styles = {\n  ResizeHandle: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    WebkitAppRegion: 'no-drag'\n  },\n  ResizeLeft: {\n    width: '3px',\n    height: '28px'\n  },\n  ResizeTop: {\n    width: '100%',\n    height: '3px'\n  }\n};\n\nclass ResizeHandle extends React.Component {\n  render() {\n    return (\n      <div\n        style={{ ...styles.ResizeHandle, ...(this.props.left ? styles.ResizeLeft : styles.ResizeTop) }}\n      />\n    );\n  }\n}\n\nResizeHandle.defaultProps = {\n  left: PropTypes.bool,\n  top: PropTypes.bool\n};\n\nexport default ResizeHandle;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst styles = {\n  Icon: {\n    height: '16px',\n    width: '16px',\n    margin: '6px'\n  }\n};\n\nclass Icon extends React.Component {\n  render() {\n    let { src, onIconClick } = this.props;\n\n    return (\n      <img\n        src={src}\n        alt='app-icon'\n        onClick={onIconClick}\n        style={styles.Icon}\n      />\n    );\n  }\n}\n\nIcon.defaultProps = {\n  src: PropTypes.string,\n  onIconClick: PropTypes.func\n};\n\nexport default Icon;\n","import React, { Component } from 'react';\nimport ThemeContext from '../../Theme';\nimport styles from './styles.css';\n\nclass Button extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hovering: false,\n      focused: false\n    };\n  }\n\n  toggleHover = () => {\n    this.setState({\n      hovering: !this.state.hovering\n    });\n  }\n\n  toggleFocus = () => {\n    this.setState({\n      focused: !this.state.focused\n    });\n  }\n\n  render() {\n    const {\n      ariaLabel,\n      tabIndex,\n      disabled,\n      close,\n      onClick\n    } = this.props;\n\n    const {\n      hovering,\n      focused\n    } = this.state;\n\n    let backgroundColor = 'transparent';\n    let opacity = 0.5;\n    let transition = 'background-color 0.25s ease';\n    let color = this.context.windowControlsColor;\n    if (hovering) {\n      opacity = 1;\n      color = close ? this.context.windowCloseHover : color;\n      backgroundColor = close ? this.context.windowCloseBackground : this.context.windowDefaultBackground;\n    } else if (focused) {\n      opacity = 1;\n      color = close ? this.context.windowCloseHover : color;\n      backgroundColor = close ? this.context.windowCloseActive : this.context.windowDefaultActive;\n      transition = 'none';\n    }\n\n    return (\n      <button\n        className={styles.Button}\n        style={{ backgroundColor, opacity, transition, color }}\n        onFocus={this.toggleFocus}\n        onBlur={this.toggleFocus}\n        onMouseEnter={this.toggleHover}\n        onMouseLeave={this.toggleHover}\n        onClick={onClick}\n        aria-label={ariaLabel}\n        tabIndex={tabIndex}\n        disabled={disabled}\n      >\n        {this.props.children}\n      </button>\n    );\n  }\n}\n\nButton.contextType = ThemeContext;\n\nexport default Button;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport electron from 'electron';\nimport {\n  Button\n} from '../components';\n\nconst currentWindow = electron.remote.getCurrentWindow();\n\nconst styles = {\n  Controls: {\n    flexGrow: 0,\n    flexShrink: 0,\n    marginLeft: 'auto',\n    height: '100%'\n  }\n}\nexport default class WindowControls extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isMaximized: currentWindow.isMaximized()\n    };\n  }\n\n  componentDidMount() {\n    currentWindow.addListener('maximize', () => this.setState({ isMaximized: true }));\n    currentWindow.addListener('unmaximize', () => this.setState({ isMaximized: false }));\n  }\n\n  componentWillUnmount() {\n    currentWindow.removeListener('maximize', () => this.setState({ isMaximized: true }));\n    currentWindow.removeListener('unmaximize', () => this.setState({ isMaximized: false }));\n  }\n\n  handleMaximize = (max) => {\n    this.setState({\n      isMaximized: max\n    });\n  };\n\n  onMaximizeClicked = () => {\n    if (currentWindow.isMaximizable()) {\n      if (currentWindow.isMaximized()) {\n        currentWindow.unmaximize();\n      } else {\n        currentWindow.maximize();\n      }\n    }\n  };\n\n  render() {\n    const {\n      disableMaximize,\n      disableMinimize\n    } = this.props;\n\n    const {\n      isMaximized\n    } = this.state;\n\n    return (\n      <div style={styles.Controls}>\n        <Button\n          key=\"min-button\"\n          ariaLabel=\"minimize\"\n          tabIndex=\"-1\"\n          disabled={disableMinimize}\n          onClick={() => currentWindow.minimize()}\n        >\n          <svg\n            version=\"1.1\"\n            aria-hidden=\"true\"\n            width=\"10\"\n            height=\"10\"\n          >\n            <path\n              d=\"M 0,5 10,5 10,6 0,6 Z\"\n            />\n          </svg>\n        </Button>\n        <Button\n          key=\"max-button\"\n          ariaLabel=\"maximize\"\n          tabIndex=\"-1\"\n          disabled={disableMaximize}\n          onClick={this.onMaximizeClicked}\n        >\n          {\n            isMaximized ?\n              <svg\n                version=\"1.1\"\n                aria-hidden=\"true\"\n                width=\"10\"\n                height=\"10\"\n              >\n                <path\n                  d=\"m 2,1e-5 0,2 -2,0 0,8 8,0 0,-2 2,0 0,-8 z m 1,1 6,0 0,6 -1,0 0,-5 -5,0 z m -2,2 6,0 0,6 -6,0 z\"\n                />\n              </svg> :\n              <svg\n                version=\"1.1\"\n                aria-hidden=\"true\"\n                width=\"10\"\n                height=\"10\"\n              >\n                <path\n                  d=\"M 0,0 0,10 10,10 10,0 Z M 1,1 9,1 9,9 1,9 Z\"\n                />\n              </svg>\n          }\n        </Button>\n        <Button\n          key=\"close-button\"\n          aria-label=\"close\"\n          tabIndex=\"-1\"\n          onClick={() => currentWindow.close()}\n          close\n        >\n          <svg\n            aria-hidden=\"true\"\n            version=\"1.1\"\n            width=\"10\"\n            height=\"10\"\n          >\n            <path d=\"M 0,0 0,0.7 4.3,5 0,9.3 0,10 0.7,10 5,5.7 9.3,10 10,10 10,9.3 5.7,5 10,0.7 10,0 9.3,0 5,4.3 0.7,0 Z\" />\n          </svg>\n        </Button>\n      </div>\n    );\n  }\n}\n\nWindowControls.propTypes = {\n  disableMinimize: PropTypes.bool,\n  disableMaximize: PropTypes.bool\n};\n\nWindowControls.defaultProps = {\n  disableMinimize: false,\n  disableMaximize: false\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeProvider, darkTheme, lightTheme } from './Theme';\nimport os from 'os';\nimport MenuBar from './MenuBar';\nimport WindowControls from './WindowControls';\nimport {\n  Bar,\n  Title,\n  ResizeHandle,\n  Icon\n} from './components';\n\nclass TitleBar extends Component {\n  generatePlatformChildren = ({\n    icon,\n    app,\n    title,\n    platform,\n    menu,\n    children,\n    currentTheme,\n    onIconClick,\n    onTitleClick,\n    onCloseClick,\n    onMinimizeClick,\n    onMaximizeClick,\n    disableMaximize,\n    disableMinimize,\n    onBarDoubleClick\n  }) => {\n    switch (platform) {\n      case 'win32': // win32\n        return (\n          <Bar isWin>\n            <ResizeHandle top />\n            <ResizeHandle left />\n            {\n              currentTheme.menuStyle === 'vertical' &&\n                <MenuBar\n                  menu={menu}\n                />\n            }\n            {\n              icon &&\n              <Icon\n                src={icon}\n                onClick={onIconClick}\n              />\n            }\n            {\n              app &&\n              <Title\n                onClick={onTitleClick}\n                isWin\n              >\n                {app}\n              </Title>\n            }\n            {\n              currentTheme.menuStyle === 'horizontal' &&\n                <MenuBar\n                  menu={menu}\n                />\n            }\n            {children}\n            <WindowControls\n              disableMinimize={disableMinimize}\n              disableMaximize={disableMaximize}\n              onCloseClick={onCloseClick}\n              onMinimizeClick={onMinimizeClick}\n              onMaximizeClick={onMaximizeClick}\n            />\n          </Bar>\n        );\n      default:\n        return (\n          <Bar\n            onDoubleClick={onBarDoubleClick}\n          >\n            <ResizeHandle top />\n            <ResizeHandle left />\n            {\n              (title || app) &&\n              <Title\n                onClick={onTitleClick}\n                flex={1}\n              >\n                {\n                  (icon && currentTheme.showIconDarLin) &&\n                  <Icon\n                    src={icon}\n                    onClick={onIconClick}\n                  />\n                }\n                {(title || app)}\n              </Title>\n            }\n          </Bar>\n        );\n    }\n  }\n\n  render() {\n    const {\n      theme,\n      platform\n    } = this.props;\n\n    const currentTheme = {\n      ...(theme.barTheme === 'light' ? lightTheme : darkTheme),\n      ...theme\n    };\n\n    return (\n      <ThemeProvider value={currentTheme}>\n        {\n          this.generatePlatformChildren({\n            ...this.props,\n            currentTheme,\n            platform: platform === 'default' ? os.platform() : (platform || os.platform())\n          })\n        }\n      </ThemeProvider>\n    );\n  }\n}\n\nTitleBar.propTypes = {\n  children: PropTypes.node,\n  icon: PropTypes.string,\n  title: PropTypes.string,\n  platform: PropTypes.string,\n  theme: PropTypes.object,\n  /* Menu */\n  menu: PropTypes.array,\n  /* Window */\n  disableMinimize: PropTypes.bool,\n  disableMaximize: PropTypes.bool,\n  /* Functions */\n  onIconClick: PropTypes.func,\n  onTitleClick: PropTypes.func,\n  onCloseClick: PropTypes.func,\n  onMinimizeClick: PropTypes.func,\n  onMaximizeClick: PropTypes.func,\n};\n\nTitleBar.defaultProps = {\n  children: null,\n\n  /* Main */\n  icon: '',\n  name: '',\n  title: '',\n  platform: '',\n  theme: {},\n\n  /* WindowControls */\n  disableMinimize: false,\n  disableMaximize: false,\n\n  /* Menu */\n  menu: [],\n\n  /* Click Listeners */\n  onIconClick: () => {},\n  onTitleClick: () => {},\n  onCloseClick: () => {},\n  onMinimizeClick: () => {},\n  onMaximizeClick: () => {},\n  onBarDoubleClick: () => {}\n};\n\nexport default TitleBar;\n"],"names":["darkTheme","lightTheme","ThemeContext","React","createContext","ThemeConsumer","Consumer","ThemeProvider","Provider","styles","MenuButton","props","onMouseEnter","onMouseLeave","onMouseOver","onMouseMove","onTouchStart","onFocus","onClick","label","open","enabled","hovering","rectRef","theme","context","backgroundColor","menuBackgroundColor","menuItemHoverBackground","borderColor","color","menuActiveTextColor","menuItemTextColor","opacity","menuDimItems","menuDimOpacity","menuDisabledOpacity","Wrapper","children","ButtonWrapper","css","Button","Component","propTypes","PropTypes","node","bool","oneOfType","string","isRequired","func","contextType","defaultProps","checked","unchecked","radioUnchecked","radioChecked","arrow","MenuItem","state","handleMouseEnter","bind","handleMouseLeave","handleClick","e","menuItem","stopPropagation","setState","changeCheckState","path","indx","type","persist","newMenuItem","click","remote","getCurrentWindow","isSubMenu","toLowerCase","visible","Separator","menuSeparatorColor","statusIcon","icon","Icon","menuTextHighlightColor","menuHighlightColor","StatusIcon","accentStatusIcon","Label","Accelerator","menuAcceleratorColor","accelerator","SubMenuArrow","shape","oneOf","number","getProperty","obj","reduce","xs","x","reduxSet","val","prop","restPath","isEqual","before","after","result","Array","isArray","slice","defaultMenuItem","SubMenuLabelStyle","SubMenu","generateMenu","menu","map","i","submenu","windowWidth","window","innerWidth","renderSide","right","menuWidth","leftDiff","level","SubMenuWrapper","menuSubLabelHeaders","menuShowBoxShadow","menuBoxShadow","menuSubLabelColor","object","MenuList","rect","left","vertical","bottom","MenuListOverlay","menuOverlayBackground","menuOverlayOpacity","FoldOut","MenuFoldOut","showBoxShadow","MenuPane","menuStyle","array","topologicalSort","original","graph","sorted","visited","Set","visit","mark","has","add","edges","get","forEach","push","areValidTemplateItems","template","every","item","hasOwnProperty","addEdge","from","to","set","sortMenuItems","Map","idToIndex","id","sortedOrder","sortMenu","buildMenu","TypeError","menuIcon","MenuBar","onMenuButtonMouseOver","clicked","focusing","lock","onMenuButtonClick","index","setMenuRef","ref","menuItems","itemIndx","isRadio","newState","generateHorizontalMenu","menuObj","getBoundingClientRect","generateVerticalMenu","menuList","nextProps","barColor","currentWindow","electron","Bar","handleDoubleClick","isWin","bounds","screen","getPrimaryDisplay","workArea","setBounds","height","winBarHeight","barHeight","barBackgroundColor","borderBottom","barShowBorder","barBorderBottom","Title","lineHeight","padding","flex","barTitleColor","fontFamily","titleFontFamily","fontWeight","titleFontWeight","ResizeHandle","ResizeLeft","ResizeTop","src","onIconClick","toggleHover","toggleFocus","focused","ariaLabel","tabIndex","disabled","close","transition","windowControlsColor","windowCloseHover","windowCloseBackground","windowDefaultBackground","windowCloseActive","windowDefaultActive","WindowControls","handleMaximize","max","onMaximizeClicked","isMaximizable","isMaximized","unmaximize","maximize","addListener","removeListener","disableMaximize","disableMinimize","Controls","minimize","TitleBar","generatePlatformChildren","app","title","platform","currentTheme","onTitleClick","onCloseClick","onMinimizeClick","onMaximizeClick","onBarDoubleClick","showIconDarLin","barTheme","os"],"mappings":"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"}